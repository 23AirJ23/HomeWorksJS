<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Task 13</title>
  <style>
    /*div {
      display: inline-grid;
      text-align: center;
      grid-template-columns: repeat(10, 50px);
      
      border: 1px dashed #000;
    }*/

    span {
      position: relative;
      border: 1px solid #000;
      height: 50px;
    }

    img {
      max-width: 100%;
      object-fit: contain;
    }
  </style>
</head>

<body>
  <h1 style="font-size: 25px">
    Задача 13. Морський бій. Комп’ютер випадково розташовує одиночний корабель на полі розміром N*M. Маючи К снарядів
    користувач
    намагається потопити корабель.
  </h1>
  <script>
    const shipImage = `<img src="img/boat.jpg" alt="">`
    const wrongTry = `<img src="img/red_x.jpg" alt="">`


    const rowsQuantity = parseInt(prompt(`Введіть кількість рядків:`))
    const columnsQuantity = parseInt(prompt(`Введіть кількість стовпців:`))
    let numberOfShells = parseInt(prompt(`Введіть бажану кількість снарядів, але не більше 10:`))
    for (let i = 0; numberOfShells < 0 || numberOfShells > 10; i++) {
      numberOfShells = parseInt(prompt(`Введіть бажану кількість снарядів, але не більше 10:`))
    }

    const shipPositionX = Math.floor(Math.random() * rowsQuantity) + 1
    const shipPositionY = Math.floor(Math.random() * columnsQuantity) + 1
    document.write(`<div style="display: inline-grid; grid-template-columns: repeat(${columnsQuantity}, 50px);">`)
    let winResultX, winResultY, numbersTry = 0

    while (numbersTry < numberOfShells) {
      let shootTryX = parseInt(prompt(`А тепер спробуй влучити. Вибери клітинку по осі X:`))
      let shootTryY = parseInt(prompt(`А тепер спробуй влучити. Вибери клітинку по осі Y:`))
      if (shootTryX == shipPositionX && shootTryY == shipPositionY) {
        winResultX = shootTryX
        winResultY = shootTryY
        break
      } else
        numbersTry++
    }

    let countX = 0,
      countY = 0
    for (let i = 0; i < columnsQuantity; i++) {
      countX++
      for (let j = 0; j < rowsQuantity; j++) {
        countY++
        if (countY == rowsQuantity)
          countY = 0


        if (winResultX == countX && winResultY == countY) {
          document.write(`<span>${shipImage}</span>`)
          alert(`Вітаю! Корабель потоплено`)
        } else {
          document.write(`<span>${wrongTry}</span>`)
        }

      }
    }
    document.write(`</div>`)
  </script>
</body>

</html>